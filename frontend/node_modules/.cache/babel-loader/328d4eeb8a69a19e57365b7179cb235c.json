{"ast":null,"code":"var _jsxFileName = \"/home/xeannort/Documents/Projet/GitHub/groupomania/frontend/src/pages/profil/Profil.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/jsx-pascal-case */\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./profile.scss\";\nimport EmptyProfil from \"../../comp/profil/EmptyProfil\";\nimport ActiveProfil from \"../../comp/profil/ActiveProfil\";\nimport Profil_nav from \"../../comp/profil/Profil_nav\";\nimport Header from \"../../comp/UI/header/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profil(props) {\n  _s();\n  // le state de gestion de l'affichage\n\n  const [displayProfil, setDisplayProfil] = useState([{\n    status: false\n  }]);\n  const [fetchData, setData] = useState([]);\n  //récupération du state token Id\n  const userData = props.userData;\n\n  //didMount\n  useEffect(() => {\n    //recupération et traitement de la data utilisateur\n    function paramsProfil() {\n      axios({\n        method: \"get\",\n        url: `${process.env.REACT_APP_URL}api/profil/${userData[1].id}`,\n        headers: {\n          Authorization: `Bearer ${userData[0].token}`\n        }\n      }).then(res => {\n        function getDataUser() {\n          const fetchInfoData = res.data;\n          const newData = [...fetchData];\n          newData[0] = fetchInfoData;\n          setData(newData);\n        }\n        getDataUser();\n        if (res.data.name === undefined) {\n          const newDisplayProfil = [...displayProfil];\n          newDisplayProfil[0].status = false;\n          setDisplayProfil(newDisplayProfil);\n        } else {\n          const newDisplayProfil = [...displayProfil];\n          newDisplayProfil[0].status = true;\n          setDisplayProfil(newDisplayProfil);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    paramsProfil();\n  }, []);\n  // [displayProfil, fetchData, userData]\n\n  if (displayProfil[0].status === false) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profil__container--main\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EmptyProfil, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Profil_nav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profil__container--main\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ActiveProfil, {\n        fetchData: fetchData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Profil_nav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(Profil, \"s7bSKv83mfSGuc7VXkga5h1UCe4=\");\n_c = Profil;\nexport default Profil;\nvar _c;\n$RefreshReg$(_c, \"Profil\");","map":{"version":3,"names":["React","useEffect","useState","axios","EmptyProfil","ActiveProfil","Profil_nav","Header","Profil","props","displayProfil","setDisplayProfil","status","fetchData","setData","userData","paramsProfil","method","url","process","env","REACT_APP_URL","id","headers","Authorization","token","then","res","getDataUser","fetchInfoData","data","newData","name","undefined","newDisplayProfil","catch","err","console","log"],"sources":["/home/xeannort/Documents/Projet/GitHub/groupomania/frontend/src/pages/profil/Profil.js"],"sourcesContent":["/* eslint-disable react/jsx-pascal-case */\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./profile.scss\";\nimport EmptyProfil from \"../../comp/profil/EmptyProfil\";\nimport ActiveProfil from \"../../comp/profil/ActiveProfil\";\nimport Profil_nav from \"../../comp/profil/Profil_nav\";\nimport Header from \"../../comp/UI/header/Header\";\n\nfunction Profil(props) {\n  // le state de gestion de l'affichage\n\n  const [displayProfil, setDisplayProfil] = useState([{ status: false }]);\n  const [fetchData, setData] = useState([]);\n  //récupération du state token Id\n  const userData = props.userData;\n\n  //didMount\n  useEffect(() => {\n    //recupération et traitement de la data utilisateur\n    function paramsProfil() {\n      axios({\n        method: \"get\",\n        url: `${process.env.REACT_APP_URL}api/profil/${userData[1].id}`,\n\n        headers: {\n          Authorization: `Bearer ${userData[0].token}`,\n        },\n      })\n        .then((res) => {\n          function getDataUser() {\n            const fetchInfoData = res.data;\n            const newData = [...fetchData];\n            newData[0] = fetchInfoData;\n            setData(newData);\n          }\n          getDataUser();\n          if (res.data.name === undefined) {\n            const newDisplayProfil = [...displayProfil];\n            newDisplayProfil[0].status = false;\n            setDisplayProfil(newDisplayProfil);\n          } else {\n            const newDisplayProfil = [...displayProfil];\n            newDisplayProfil[0].status = true;\n            setDisplayProfil(newDisplayProfil);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    paramsProfil();\n  }, []);\n  // [displayProfil, fetchData, userData]\n\n  if (displayProfil[0].status === false) {\n    return (\n      <div className=\"profil__container--main\">\n        <Header />\n        <EmptyProfil />\n        <Profil_nav />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"profil__container--main\">\n        <Header />\n        <ActiveProfil fetchData={fetchData} />\n        <Profil_nav />\n      </div>\n    );\n  }\n}\n\nexport default Profil;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,gBAAgB;AACvB,OAAOC,WAAW,MAAM,+BAA+B;AACvD,OAAOC,YAAY,MAAM,gCAAgC;AACzD,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,MAAM,MAAM,6BAA6B;AAAC;AAEjD,SAASC,MAAM,CAACC,KAAK,EAAE;EAAA;EACrB;;EAEA,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGT,QAAQ,CAAC,CAAC;IAAEU,MAAM,EAAE;EAAM,CAAC,CAAC,CAAC;EACvE,MAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACzC;EACA,MAAMa,QAAQ,GAAGN,KAAK,CAACM,QAAQ;;EAE/B;EACAd,SAAS,CAAC,MAAM;IACd;IACA,SAASe,YAAY,GAAG;MACtBb,KAAK,CAAC;QACJc,MAAM,EAAE,KAAK;QACbC,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAG,CAACC,aAAc,cAAaN,QAAQ,CAAC,CAAC,CAAC,CAACO,EAAG,EAAC;QAE/DC,OAAO,EAAE;UACPC,aAAa,EAAG,UAAST,QAAQ,CAAC,CAAC,CAAC,CAACU,KAAM;QAC7C;MACF,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAK;QACb,SAASC,WAAW,GAAG;UACrB,MAAMC,aAAa,GAAGF,GAAG,CAACG,IAAI;UAC9B,MAAMC,OAAO,GAAG,CAAC,GAAGlB,SAAS,CAAC;UAC9BkB,OAAO,CAAC,CAAC,CAAC,GAAGF,aAAa;UAC1Bf,OAAO,CAACiB,OAAO,CAAC;QAClB;QACAH,WAAW,EAAE;QACb,IAAID,GAAG,CAACG,IAAI,CAACE,IAAI,KAAKC,SAAS,EAAE;UAC/B,MAAMC,gBAAgB,GAAG,CAAC,GAAGxB,aAAa,CAAC;UAC3CwB,gBAAgB,CAAC,CAAC,CAAC,CAACtB,MAAM,GAAG,KAAK;UAClCD,gBAAgB,CAACuB,gBAAgB,CAAC;QACpC,CAAC,MAAM;UACL,MAAMA,gBAAgB,GAAG,CAAC,GAAGxB,aAAa,CAAC;UAC3CwB,gBAAgB,CAAC,CAAC,CAAC,CAACtB,MAAM,GAAG,IAAI;UACjCD,gBAAgB,CAACuB,gBAAgB,CAAC;QACpC;MACF,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;QACdC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC,CAAC;IACN;IACApB,YAAY,EAAE;EAChB,CAAC,EAAE,EAAE,CAAC;EACN;;EAEA,IAAIN,aAAa,CAAC,CAAC,CAAC,CAACE,MAAM,KAAK,KAAK,EAAE;IACrC,oBACE;MAAK,SAAS,EAAC,yBAAyB;MAAA,wBACtC,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,eACV,QAAC,WAAW;QAAA;QAAA;QAAA;MAAA,QAAG,eACf,QAAC,UAAU;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA,QACV;EAEV,CAAC,MAAM;IACL,oBACE;MAAK,SAAS,EAAC,yBAAyB;MAAA,wBACtC,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,eACV,QAAC,YAAY;QAAC,SAAS,EAAEC;MAAU;QAAA;QAAA;QAAA;MAAA,QAAG,eACtC,QAAC,UAAU;QAAA;QAAA;QAAA;MAAA,QAAG;IAAA;MAAA;MAAA;MAAA;IAAA,QACV;EAEV;AACF;AAAC,GA/DQL,MAAM;AAAA,KAANA,MAAM;AAiEf,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module"}