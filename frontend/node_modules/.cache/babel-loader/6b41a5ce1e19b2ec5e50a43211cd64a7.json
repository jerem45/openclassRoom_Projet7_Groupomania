{"ast":null,"code":"var _jsxFileName = \"/home/xeannort/Documents/Projet/GitHub/bootstrap/groupomania/frontend/src/comp/home/Like.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { faHeartBroken } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Like(props) {\n  _s();\n  const userData = props.userData;\n  const token = props.token;\n\n  // state like dislike\n  const [userLike, setUserLike] = useState([{\n    like: 0,\n    likeActive: false\n  }]);\n  const [userDislike, setUserDislike] = useState([{\n    dislike: 0,\n    dislikeActive: false\n  }]);\n  console.log(userLike[0]);\n  console.log(userDislike[0]);\n  function isLiked() {\n    const newLike = [...userLike];\n    newLike[0].likeActive = !userLike[0].likeActive;\n    newLike[0].like = userLike[0].likeActive ? userLike[0].like + 1 : userLike[0].like - 1;\n    setUserLike(newLike);\n  }\n  function isDisliked() {\n    const newUserDislike = [...userDislike];\n    newUserDislike[0].dislikeActive = !userDislike[0].dislikeActive;\n    newUserDislike[0].dislike = userDislike[0].dislike ? userDislike[0].dislike - 1 : userDislike[0].dislike + 1;\n    setUserDislike(newUserDislike);\n  }\n\n  //  gestion des states likes et dislikes\n  const handleLiked = e => {\n    if (userDislike[0].dislikeActive) {\n      isLiked();\n      isDisliked();\n    }\n    isLiked();\n    sendLike();\n  };\n  const handleDisLiked = e => {\n    if (userLike[0].likeActive) {\n      isDisliked();\n      isLiked();\n    }\n    isDisliked();\n    sendLike();\n  };\n  //axios----------------update des like&dislike\n  const sendLike = event => {\n    const clickLike = userLike[0].like;\n    const clickDislike = userDislike[0].dislike;\n    axios({\n      method: \"POST\",\n      url: `${process.env.REACT_APP_URL}api/post/${userData}/like`,\n      headers: {\n        Authorization: `Bearer ${token}`\n      },\n      data: {\n        likes: clickLike,\n        dislikes: clickDislike\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        console.log(\"request réussie\");\n      } else {\n        console.log(\"erreur lors de l'envoi du formulaire redirection impossible\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-liked-color me-3 text-danger\",\n      onClick: () => handleLiked(),\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faHeart,\n        className: \"me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), userLike[0].like]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-liked-color\",\n      onClick: () => handleDisLiked(),\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faHeartBroken,\n        className: \"me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), userDislike[0].dislike]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 1\n  }, this);\n}\n_s(Like, \"VcxI55gM6Jc0zGubff9BJw45fd0=\");\n_c = Like;\nvar _c;\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faHeart","faHeartBroken","axios","Like","props","userData","token","userLike","setUserLike","like","likeActive","userDislike","setUserDislike","dislike","dislikeActive","console","log","isLiked","newLike","isDisliked","newUserDislike","handleLiked","e","sendLike","handleDisLiked","event","clickLike","clickDislike","method","url","process","env","REACT_APP_URL","headers","Authorization","data","likes","dislikes","then","res","status","catch","err"],"sources":["/home/xeannort/Documents/Projet/GitHub/bootstrap/groupomania/frontend/src/comp/home/Like.js"],"sourcesContent":["import React,{useState} from 'react'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {  faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport {  faHeartBroken } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from 'axios';\nexport default function Like(props) {\n  const userData = props.userData\n  const token = props.token\n\n      // state like dislike\nconst [userLike,setUserLike] =useState([{\nlike:0,\nlikeActive:false,\n}])\nconst [userDislike,setUserDislike] =useState([{\n  dislike:0,\n  dislikeActive:false\n  }])\n console.log(userLike[0]);\n console.log(userDislike[0]);\n\nfunction isLiked (){\nconst newLike = [...userLike]\nnewLike[0].likeActive = !userLike[0].likeActive\nnewLike[0].like = userLike[0].likeActive ? userLike[0].like +1 : userLike[0].like -1\nsetUserLike(newLike)\n}\nfunction isDisliked (){\n  const newUserDislike = [...userDislike]\n  newUserDislike[0].dislikeActive = !userDislike[0].dislikeActive\n  newUserDislike[0].dislike = userDislike[0].dislike ? userDislike[0].dislike -1 : userDislike[0].dislike +1\n  setUserDislike(newUserDislike)\n}\n\n    //  gestion des states likes et dislikes\nconst handleLiked = (e)=>{\n if(userDislike[0].dislikeActive){\n  isLiked()\n  isDisliked()\n }\n isLiked()\n sendLike()\n}\n\nconst handleDisLiked = (e)=>{\n if(userLike[0].likeActive){\n  isDisliked()\n  isLiked()\n }\n isDisliked()\n sendLike()\n}\n//axios----------------update des like&dislike\nconst sendLike =(event)=>{\n  const clickLike = userLike[0].like;\n  const clickDislike=userDislike[0].dislike;\n  axios({\n      method: \"POST\",\n      url: `${process.env.REACT_APP_URL}api/post/${userData}/like`,\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n      data: {\n    likes: clickLike ,\n    dislikes: clickDislike\n      },\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          console.log(\"request réussie\");\n  \n          } else {\n            console.log(\n              \"erreur lors de l'envoi du formulaire redirection impossible\"\n            );\n          }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n}\n  return (\n<div className='d-flex justify-content-center'>\n    <button \n    className='btn-liked-color me-3 text-danger'\n    onClick={()=>handleLiked()}>\n        <FontAwesomeIcon icon={faHeart} \n         className=\"me-1\" />{userLike[0].like}\n    </button>\n    <button \n    className='btn-liked-color'\n    onClick={()=>handleDisLiked()}>\n\n        <FontAwesomeIcon icon={faHeartBroken} \n         className=\"me-1\" />{userDislike[0].dislike}\n    </button>\n</div>\n  )\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,QAAQ,QAAO,OAAO;AACpC,SAASC,eAAe,QAAQ,gCAAgC;AAChE,SAAUC,OAAO,QAAQ,mCAAmC;AAC5D,SAAUC,aAAa,QAAQ,mCAAmC;AAClE,OAAOC,KAAK,MAAM,OAAO;AAAC;AAC1B,eAAe,SAASC,IAAI,CAACC,KAAK,EAAE;EAAA;EAClC,MAAMC,QAAQ,GAAGD,KAAK,CAACC,QAAQ;EAC/B,MAAMC,KAAK,GAAGF,KAAK,CAACE,KAAK;;EAErB;EACN,MAAM,CAACC,QAAQ,EAACC,WAAW,CAAC,GAAEV,QAAQ,CAAC,CAAC;IACxCW,IAAI,EAAC,CAAC;IACNC,UAAU,EAAC;EACX,CAAC,CAAC,CAAC;EACH,MAAM,CAACC,WAAW,EAACC,cAAc,CAAC,GAAEd,QAAQ,CAAC,CAAC;IAC5Ce,OAAO,EAAC,CAAC;IACTC,aAAa,EAAC;EACd,CAAC,CAAC,CAAC;EACJC,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxBQ,OAAO,CAACC,GAAG,CAACL,WAAW,CAAC,CAAC,CAAC,CAAC;EAE5B,SAASM,OAAO,GAAG;IACnB,MAAMC,OAAO,GAAG,CAAC,GAAGX,QAAQ,CAAC;IAC7BW,OAAO,CAAC,CAAC,CAAC,CAACR,UAAU,GAAG,CAACH,QAAQ,CAAC,CAAC,CAAC,CAACG,UAAU;IAC/CQ,OAAO,CAAC,CAAC,CAAC,CAACT,IAAI,GAAGF,QAAQ,CAAC,CAAC,CAAC,CAACG,UAAU,GAAGH,QAAQ,CAAC,CAAC,CAAC,CAACE,IAAI,GAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC,CAAC,CAACE,IAAI,GAAE,CAAC;IACpFD,WAAW,CAACU,OAAO,CAAC;EACpB;EACA,SAASC,UAAU,GAAG;IACpB,MAAMC,cAAc,GAAG,CAAC,GAAGT,WAAW,CAAC;IACvCS,cAAc,CAAC,CAAC,CAAC,CAACN,aAAa,GAAG,CAACH,WAAW,CAAC,CAAC,CAAC,CAACG,aAAa;IAC/DM,cAAc,CAAC,CAAC,CAAC,CAACP,OAAO,GAAGF,WAAW,CAAC,CAAC,CAAC,CAACE,OAAO,GAAGF,WAAW,CAAC,CAAC,CAAC,CAACE,OAAO,GAAE,CAAC,GAAGF,WAAW,CAAC,CAAC,CAAC,CAACE,OAAO,GAAE,CAAC;IAC1GD,cAAc,CAACQ,cAAc,CAAC;EAChC;;EAEI;EACJ,MAAMC,WAAW,GAAIC,CAAC,IAAG;IACxB,IAAGX,WAAW,CAAC,CAAC,CAAC,CAACG,aAAa,EAAC;MAC/BG,OAAO,EAAE;MACTE,UAAU,EAAE;IACb;IACAF,OAAO,EAAE;IACTM,QAAQ,EAAE;EACX,CAAC;EAED,MAAMC,cAAc,GAAIF,CAAC,IAAG;IAC3B,IAAGf,QAAQ,CAAC,CAAC,CAAC,CAACG,UAAU,EAAC;MACzBS,UAAU,EAAE;MACZF,OAAO,EAAE;IACV;IACAE,UAAU,EAAE;IACZI,QAAQ,EAAE;EACX,CAAC;EACD;EACA,MAAMA,QAAQ,GAAGE,KAAK,IAAG;IACvB,MAAMC,SAAS,GAAGnB,QAAQ,CAAC,CAAC,CAAC,CAACE,IAAI;IAClC,MAAMkB,YAAY,GAAChB,WAAW,CAAC,CAAC,CAAC,CAACE,OAAO;IACzCX,KAAK,CAAC;MACF0B,MAAM,EAAE,MAAM;MACdC,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAG,CAACC,aAAc,YAAW3B,QAAS,OAAM;MAC5D4B,OAAO,EAAE;QACPC,aAAa,EAAG,UAAS5B,KAAM;MACjC,CAAC;MACD6B,IAAI,EAAE;QACRC,KAAK,EAAEV,SAAS;QAChBW,QAAQ,EAAEV;MACR;IACF,CAAC,CAAC,CACCW,IAAI,CAAEC,GAAG,IAAK;MACb,IAAIA,GAAG,CAACC,MAAM,KAAK,GAAG,EAAE;QACtBzB,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;MAE9B,CAAC,MAAM;QACLD,OAAO,CAACC,GAAG,CACT,6DAA6D,CAC9D;MACH;IACJ,CAAC,CAAC,CACDyB,KAAK,CAAEC,GAAG,IAAK;MACd3B,OAAO,CAACC,GAAG,CAAC0B,GAAG,CAAC;IAClB,CAAC,CAAC;EACR,CAAC;EACC,oBACF;IAAK,SAAS,EAAC,+BAA+B;IAAA,wBAC1C;MACA,SAAS,EAAC,kCAAkC;MAC5C,OAAO,EAAE,MAAIrB,WAAW,EAAG;MAAA,wBACvB,QAAC,eAAe;QAAC,IAAI,EAAErB,OAAQ;QAC9B,SAAS,EAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,EAACO,QAAQ,CAAC,CAAC,CAAC,CAACE,IAAI;IAAA;MAAA;MAAA;MAAA;IAAA,QAChC,eACT;MACA,SAAS,EAAC,iBAAiB;MAC3B,OAAO,EAAE,MAAIe,cAAc,EAAG;MAAA,wBAE1B,QAAC,eAAe;QAAC,IAAI,EAAEvB,aAAc;QACpC,SAAS,EAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,EAACU,WAAW,CAAC,CAAC,CAAC,CAACE,OAAO;IAAA;MAAA;MAAA;MAAA;IAAA,QACtC;EAAA;IAAA;IAAA;IAAA;EAAA,QACP;AAEN;AAAC,GA7FuBV,IAAI;AAAA,KAAJA,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module"}