{"ast":null,"code":"var _jsxFileName = \"/home/xeannort/Documents/Projet/GitHub/bootstrap/groupomania/frontend/src/comp/home/Like.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { faHeartBroken } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Like(props) {\n  _s();\n  //recuperation de la props detail des post avec la data \n  const detail = props.detail;\n  // state like dislike\n  const [userLike, setUserLike] = useState([{\n    like: 0,\n    likeActive: false\n  }]);\n  const [userDislike, setUserDislike] = useState([{\n    dislike: 0,\n    dislikeActive: false\n  }]);\n  console.log(userLike[0].like);\n  console.log(userDislike[0].dislike);\n  function isLiked() {\n    const newLike = [...userLike];\n    newLike[0].likeActive = !userLike[0].likeActive;\n    newLike[0].like = userLike[0].likeActive ? userLike[0].like + 1 : userLike[0].like - 1;\n    setUserLike(newLike);\n  }\n  function isDisliked() {\n    const newUserDislike = [...userDislike];\n    newUserDislike[0].dislikeActive = !userDislike[0].dislikeActive;\n    newUserDislike[0].dislike = userDislike[0].dislike ? userDislike[0].dislike - 1 : userDislike[0].dislike + 1;\n    setUserDislike(newUserDislike);\n  }\n\n  //  gestion des states likes et dislikes\n  const handleLiked = e => {\n    if (userDislike[0].dislikeActive) {\n      isLiked();\n      isDisliked();\n    }\n    isLiked();\n    sendLike();\n  };\n  const handleDisLiked = e => {\n    if (userLike[0].likeActive) {\n      isDisliked();\n      isLiked();\n    }\n    isDisliked();\n    sendLike();\n  };\n  //axios----------------update des like&dislike\n  const sendLike = event => {\n    const clickLike = userLike[0].like;\n    const clickDislike = userDislike[0].dislike;\n    axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_URL}api/post/${props.objetctId}/like`,\n      headers: {\n        Authorization: `Bearer ${props.token}`\n      },\n      data: {\n        like: clickLike,\n        dislike: clickDislike,\n        userId: props.userData\n      }\n    }).then(res => {\n      if (res.status === 200) {\n        console.log(\"request réussie\");\n      } else {\n        console.log(\"erreur lors de l'envoi du formulaire redirection impossible\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-liked-color me-3 text-danger\",\n      onClick: () => handleLiked(),\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faHeart,\n        className: \"me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), props.detail.likes]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-liked-color\",\n      onClick: () => handleDisLiked(),\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faHeartBroken,\n        className: \"me-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), detail.dislikes]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 1\n  }, this);\n}\n_s(Like, \"VcxI55gM6Jc0zGubff9BJw45fd0=\");\n_c = Like;\nvar _c;\n$RefreshReg$(_c, \"Like\");","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faHeart","faHeartBroken","axios","Like","props","detail","userLike","setUserLike","like","likeActive","userDislike","setUserDislike","dislike","dislikeActive","console","log","isLiked","newLike","isDisliked","newUserDislike","handleLiked","e","sendLike","handleDisLiked","event","clickLike","clickDislike","method","url","process","env","REACT_APP_URL","objetctId","headers","Authorization","token","data","userId","userData","then","res","status","catch","err","likes","dislikes"],"sources":["/home/xeannort/Documents/Projet/GitHub/bootstrap/groupomania/frontend/src/comp/home/Like.js"],"sourcesContent":["import React,{useState} from 'react'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {  faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport {  faHeartBroken } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from 'axios';\nexport default function Like(props) {\n//recuperation de la props detail des post avec la data \nconst detail = props.detail\n      // state like dislike\nconst [userLike,setUserLike] =useState([{\nlike:0,\nlikeActive:false,\n}])\nconst [userDislike,setUserDislike] =useState([{\n  dislike:0,\n  dislikeActive:false\n  }])\n console.log(userLike[0].like);\n console.log(userDislike[0].dislike);\n\nfunction isLiked (){\nconst newLike = [...userLike]\nnewLike[0].likeActive = !userLike[0].likeActive\nnewLike[0].like = userLike[0].likeActive ? userLike[0].like +1 : userLike[0].like -1\nsetUserLike(newLike)\n}\nfunction isDisliked (){\n  const newUserDislike = [...userDislike]\n  newUserDislike[0].dislikeActive = !userDislike[0].dislikeActive\n  newUserDislike[0].dislike = userDislike[0].dislike ? userDislike[0].dislike -1 : userDislike[0].dislike +1\n  setUserDislike(newUserDislike)\n}\n\n    //  gestion des states likes et dislikes\nconst handleLiked = (e)=>{\n if(userDislike[0].dislikeActive){\n  isLiked()\n  isDisliked()\n }\n isLiked()\n sendLike()\n}\n\nconst handleDisLiked = (e)=>{\n if(userLike[0].likeActive){\n  isDisliked()\n  isLiked()\n }\n isDisliked()\n sendLike()\n}\n//axios----------------update des like&dislike\nconst sendLike =(event)=>{\n\n  const clickLike = userLike[0].like;\n  const clickDislike=userDislike[0].dislike;\n  axios({\n      method: \"post\",\n      url: `${process.env.REACT_APP_URL}api/post/${props.objetctId}/like`,\n      headers: {\n        Authorization: `Bearer ${props.token}`,\n      },\n      data: {\n        like: clickLike,\n        dislike:clickDislike,\n        userId : props.userData\n      },\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          console.log(\"request réussie\");\n  \n          } else {\n            console.log(\n              \"erreur lors de l'envoi du formulaire redirection impossible\"\n            );\n          }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n}\n  return (\n<div className='d-flex justify-content-center'>\n    <button \n    className='btn-liked-color me-3 text-danger'\n    onClick={()=>handleLiked()}>\n        <FontAwesomeIcon icon={faHeart} \n         className=\"me-1\" />{props.detail.likes}\n    </button>\n    <button \n    className='btn-liked-color'\n    onClick={()=>handleDisLiked()}>\n\n        <FontAwesomeIcon icon={faHeartBroken} \n         className=\"me-1\" />{detail.dislikes}\n    </button>\n</div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}