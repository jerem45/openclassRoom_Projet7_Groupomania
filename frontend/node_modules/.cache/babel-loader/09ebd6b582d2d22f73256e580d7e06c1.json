{"ast":null,"code":"var _jsxFileName = \"/home/xeannort/Documents/Projet/GitHub/bootstrap/groupomania/frontend/src/pages/profil/Profil.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/jsx-pascal-case */\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport EmptyProfil from \"../../comp/profil/EmptyProfil\";\nimport ActiveProfil from \"../../comp/profil/ActiveProfil\";\nimport Profil_nav from \"../../comp/profil/Profil_nav\";\nimport Header from \"../../comp/UI/header/Header\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profil(props) {\n  _s();\n  // le state de gestion de l'affichage\n\n  const [displayProfil, setDisplayProfil] = useState([{\n    status: false\n  }]);\n  const [fetchData, setData] = useState([]);\n  //récupération du state token Id\n  const userData = props.userData;\n\n  // recupération des states validation de formulaire de app sous forme de props\n  const validateProfil = props.validateProfil;\n  const setValidateProfil = props.setValidateProfil;\n  console.log(\"validateProfil depuis  PROFIL\");\n  console.log(validateProfil);\n\n  //didMount\n  useEffect(() => {\n    //recupération et traitement de la data utilisateur\n    function paramsProfil() {\n      axios({\n        method: \"get\",\n        url: `${process.env.REACT_APP_URL}api/profil/${userData[1].id}`,\n        headers: {\n          Authorization: `Bearer ${userData[0].token}`\n        }\n      }).then(res => {\n        function getDataUser() {\n          const fetchInfoData = res.data;\n          const newData = [...fetchData];\n          newData[0] = fetchInfoData;\n          setData(newData);\n        }\n        getDataUser();\n        if (res.data.name === undefined) {\n          const newDisplayProfil = [...displayProfil];\n          newDisplayProfil[0].status = false;\n          setDisplayProfil(newDisplayProfil);\n        } else {\n          const newDisplayProfil = [...displayProfil];\n          newDisplayProfil[0].status = true;\n          setDisplayProfil(newDisplayProfil);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n    paramsProfil();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  //[displayProfil, fetchData, userData]\n\n  if (displayProfil[0].status === false) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid h-vh-100\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EmptyProfil, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 10\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ActiveProfil, {\n        fetchData: fetchData,\n        validateProfil: validateProfil,\n        setValidateProfil: setValidateProfil\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 10\n    }, this);\n  }\n}\n_s(Profil, \"s7bSKv83mfSGuc7VXkga5h1UCe4=\");\n_c = Profil;\nexport default Profil;\nvar _c;\n$RefreshReg$(_c, \"Profil\");","map":{"version":3,"names":["React","useEffect","useState","axios","EmptyProfil","ActiveProfil","Profil_nav","Header","Profil","props","displayProfil","setDisplayProfil","status","fetchData","setData","userData","validateProfil","setValidateProfil","console","log","paramsProfil","method","url","process","env","REACT_APP_URL","id","headers","Authorization","token","then","res","getDataUser","fetchInfoData","data","newData","name","undefined","newDisplayProfil","catch","err"],"sources":["/home/xeannort/Documents/Projet/GitHub/bootstrap/groupomania/frontend/src/pages/profil/Profil.js"],"sourcesContent":["/* eslint-disable react/jsx-pascal-case */\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport EmptyProfil from \"../../comp/profil/EmptyProfil\";\nimport ActiveProfil from \"../../comp/profil/ActiveProfil\";\nimport Profil_nav from \"../../comp/profil/Profil_nav\";\nimport Header from \"../../comp/UI/header/Header\";\n\nfunction Profil(props) {\n  // le state de gestion de l'affichage\n\n  const [displayProfil, setDisplayProfil] = useState([{ status: false }]);\n  const [fetchData, setData] = useState([]);\n  //récupération du state token Id\n  const userData = props.userData;\n\n    // recupération des states validation de formulaire de app sous forme de props\n    const validateProfil=props.validateProfil  \n    const setValidateProfil=props.setValidateProfil\n    console.log(\"validateProfil depuis  PROFIL\");\n    console.log(validateProfil);\n\n  //didMount\n  useEffect(() => {\n    //recupération et traitement de la data utilisateur\n    function paramsProfil() {\n      axios({\n        method: \"get\",\n        url: `${process.env.REACT_APP_URL}api/profil/${userData[1].id}`,\n\n        headers: {\n          Authorization: `Bearer ${userData[0].token}`,\n        },\n      })\n        .then((res) => {\n          function getDataUser() {\n            const fetchInfoData = res.data;\n            const newData = [...fetchData];\n            newData[0] = fetchInfoData;\n            setData(newData);\n          }\n          getDataUser();\n          if (res.data.name === undefined) {\n            const newDisplayProfil = [...displayProfil];\n            newDisplayProfil[0].status = false;\n            setDisplayProfil(newDisplayProfil);\n          } else {\n            const newDisplayProfil = [...displayProfil];\n            newDisplayProfil[0].status = true;\n            setDisplayProfil(newDisplayProfil);\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n    paramsProfil();\n   \n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  //[displayProfil, fetchData, userData]\n\n  if (displayProfil[0].status === false) {\n    return (\n         <div className=\"container-fluid h-vh-100\">\n        <Header />\n        <EmptyProfil />\n        </div>\n    );\n  } else {\n    return (\n      \n         <div className=\"d-flex justify-content-center align-items-center flex-column\">\n        <Header />\n        <ActiveProfil fetchData={fetchData} validateProfil={validateProfil}  setValidateProfil={setValidateProfil}/>\n         </div>\n    );\n  }\n}\n\nexport default Profil;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}